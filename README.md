<div dir='rtl' lang='he'>

# לולאת המחשבה - Thought Loop 🔄

## 📖 תיאור המשחק
 
**לולאת המחשבה - Thought Loop** הוא משחק פאזל-פלטפורמר 2D שבו אתה הופך לשותף של עצמך.


בכל שלב יש לך 10 שניות לחקור את הסביבה. כשהזמן נגמר, שכפול שלך מופיע ומשחזר את כל התנועות שעשית - בדיוק אותו דבר. עכשיו אתה שולט בשתי דמויות: אתה בהווה והעתק שלך מהעבר.  
**אבל!** אם תיגע בשכפול שלך - הכל מתאפס מההתחלה.
---

**ז'אנר:** Puzzle Platformer, Time Manipulation   
**קהל יעד:** גילאי 12+, חובבי משחקי חשיבה כמו Portal, Braid, The Witness

---

קישור למשחק - https://chanan-hash.itch.io/thought-loop


## 🎮 כיצד לשחק

**בקרה:**
- **←/→ או A/D** - תנועה ימינה/שמאלה
- **רווח/↑ או W** - קפיצה

**מטרה:**
- השתמש בשכפול שלך כדי לפתור חידות
- לחץ על כפתורים במקביל
- פתח שערים שאי אפשר לפתוח לבד
- הגע לדגל בסוף השלב

---



# הסבר פתיחת המשחק

נתאר את **30 השניות הראשונות של המשחק** ואת מבנה ההתקדמות הראשוני בשלבים, לצד עקרונות עניין, היגיון עיצובי, בדיקות משחק ורכיבי המערכת.

---

## 🎬 סצנות 

1. **פתיח ראשי**
2. **סיפור רקע**  
   - כולל מעברי *Fade* אלגנטיים
3. **טוטוריאל 1** – תנועה בסיסית (חיצים + קפיצה)
4. **טוטוריאל 2** – הדגמה ראשונית של *מכניקת השכפול*
5. **שלב 1** – הרחבת הרעיון לכפתורים ותיאום בסיסי
6. **שלב 2** – קושי גבוה יותר, טעויות נפוצות, הוספת אויב שגורם לפסילות מהירות

---

## 🧠 1) הבנה – מה השחקן לומד?

- המשחק מתחיל בסיפור רקע קצר, ולאחריו שני שלבי הדרכה (Tutorial).
- **טוטוריאל 1**: מסביר שליטה בסיסית (תזוזה, קפיצה).
- **טוטוריאל 2**: מדגים את מנגנון השכפול בצורה פשוטה אך מסקרנת.
- כבר בשלב זה מוצג לשחקן כי אפשר לקחת את רעיון הזמן/השכפול *רחוק יותר*.
- שלבי המשחק הראשונים:
  - בונים על מה שנלמד בטוטוריאל.
  - דורשים תיאום בין שחקן לבין השכפול שלו.
- בכל שלב מופיעה **הודעת רמז לא ברורה במכוון**, כדי להכניס את השחקן לסקרנות ולגרום לו לחשוב על הפתרון.

---

## ⭐ 2) עניין – יצירת מעורבות אצל השחקן

- כשהשחקן מגיע לדגל הסיום:
  - מופיע **פופ־אפ של "כל הכבוד"**.
  - כפתור "המשך לשלב הבא".
  - בנוסף קיים כפתור **Reset** ברור.
- המשחק *בכוונה לא מסביר* על עניין הפסילה:
  - אין התראה "נכשלת".
  - השלב פשוט מתאפס מיד.
  - זה יוצר רגע של בלבול מתוכנן ↩ שמטרתו להעצים את תחושת האתגר.
- ככל שהשלבים מתקדמים (למשל שלב 2) –  יכול להיגרם יותר פסילות ולכן נוצרת למידה דינמית.
- בכל שלב מופיע רמז חצי־מסתורי:
  - לא תמיד באמת עוזר.
  - נותן תחושת עומק ומעודד חשיבה.

---

## ⚙️ 3) הסברים על רכיבי המשחק

- פרמטרים שהמשתמש (Level Designer) **כן אמור לשנות בעורך Unity** —  
  מוגדרים כ־`[SerializeField]`.
- פרמטרים שהם חלק פנימי מהלוגיקה של הרכיב ולא מיועדים לשינוי חיצוני —  
  מוגדרים כ־`private`.
- כך נשמר:
  - סדר וניקיון בקוד  
  - שליטה על מה ניתן לשנות ומה לא  
  - מניעת טעויות מצד העורך

---

## 🧪 4) בדיקות – מה דורש בדיקה אמיתית?

- המערכת המרכזית שדורשת בדיקות היא **מערכת ההקלטה והשחזור**:
  - היא יכולה לתפקד כ"רכיב עצמאי".
  - לכן חשוב לבצע לה בדיקות קצה, תזמון, ירידת ביצועים ועוד.

---

# 🎮 בדיקות משחק – Playtest

נגדיר מספר שאלות מרכזיות לשחקנים חדשים, על מנת להבין את איכות החוויה ואת רמת ההסבר:

---

### 1) האם הבנת את רעיון המשחק?
בדיקה האם שחקן חדש מבין *מהי מכניקת השכפול* ומהי המטרה – לא האם פתר מהר.

### 2) האם נהנית?
בדיקה האם המשחק מסקרן, מהנה ומחזיק עניין בשלבים הראשונים.

### 3) האם היה מאתגר?
נרצה ליצור רמת קושי מאוזנת – לא קלה מדי כדי לא לאבד עניין.  
האם השחקן הרגיש שהרעיונות (תיאום עם השכפול) אכן מאתגרים?

### 4) אילו רכיבים/שלבים היית מוסיף או משנה?
רעיונות משחקנים חדשים חשובים לנו:
- האם העולם מעניין?
- האם מנגנון השכפול ברור/מהנה?
- האם כדאי לשנות פסילות?
- האם להוסיף אויבים / איסוף פריטים / דירוג שלבים?

### 5) האם להרחיב את העולם?
האפשרויות:
- חדרים סגורים (כמו עכשיו) – הכל גלוי מההתחלה  
- עולם פתוח/חצי פתוח עם מצלמה עוקבת – החידה לא ברורה מיד  
נרצה להבין מה מעניין יותר.

### 6) האם הוספה של יותר שכפולים תשפר או תהרוס?
חשוב להבין האם עוד שכפולים:
- מגבירים אתגר  
- יוצרים כאוס  
- פוגעים בחוויית המשחק  
- או דווקא מעצימים את המכניקה

### 7) הצע רעיון לשלב חדש
שחקנים שמציעים שלבים מרגישים שהם חלק פעיל מהעיצוב, ולעיתים מציעים רעיונות מצוינים להרחבת המשחק.

---
## תיעוד של חלקי הקוד

## 1. מכניקת הקלטה ושחזור (Recording & Playback)

### RecorderManager – הקלטת תנועות השחקן (`RecordManager.cs`)
- מקליט בכל פריים: מיקום, סיבוב, גודל.
- מקליט מצבי אנימציה: `isRunning`, `isJumping`.
- מקליט היפוך ספרייט (`flipX`).
- שומר הכל ברשימות לשחזור מאוחר.

### ClonePlayback – שחזור התנועות (`ClonePlayback.cs`)
- מקבל את כל המידע מה־RecorderManager ומשחזר פריים־אחר־פריים.
- מעדכן מיקום/סיבוב/סקייל, מצב ספרייט ופרמטרי אנימציה בזמן אמת.
- נעצר אוטומטית כשהמשחק בפאוז (למשל בזמן VictoryPopup).

## 2. מערכת ניהול השכפולים (Clone Management)

### CloneSpawner – יצירת שכפולים (`CloneSpawner.cs`)
- מפסיק הקלטה, יוצר שכפול חדש ומתחיל שחזור עם הנתונים שהוקלטו.
- מציב את השכפול בפריים הראשון של ההקלטה ומסמן אותו כ־`Clone` לזיהוי התנגשויות.

### CloneTimer – טיימר ותצוגת ספירה (`CloneTimer.cs`)
- מציג טקסט “Clone in: X”.
- מפעיל את CloneSpawner כשהספירה מגיעה לאפס.
- ניתן לכוון אורך טיימר שונה לכל שלב.

## 3. מכניקות פאזל

### PressureButton – כפתור לחיץ (`PressureButton.cs`)
- מבוסס Trigger Collider עם אנימציות Pressed/Idle.
- פונקציה `IsPressed()` לבדיקת מצב.

### MovingWall – קיר נע (`MovingWall.cs`)
- עולה כשהכפתור(ים) לחוצים, יורד כשהם משוחררים.

## 4. התנהלות שלב

- התנגשות עם שכפול → אתחול סצנה (`playerMovment.cs`, `CrushDetector.cs`, `ResetButton.cs`).
- הגעה לדגל → VictoryPopup וטעינת השלב הבא עם Fade (ראה `Flag.cs`, `VictoryPopup.cs`, `SceneFader.cs`).

## 5. ארכיטקטורה מודולרית

- Player – תנועה וקלט בלבד.
- RecorderManager – הקלטת פריימים בלבד.
- CloneSpawner – יצירת שכפולים בלבד.
- ClonePlayback – שחזור בלבד.
- Timer – ספירה לאחור בלבד.
- Puzzle Components – כפתורים, קירות ומנגנוני שליטה.

---
## 🎨 נכסים (Assets)

- **Pixel Adventure 1** - ספרייטים לדמויות וסביבה

[רכיבים רשמיים](Formal_Elements/formal-elements.md)  


חברי הצוות: דוד שטרן וחנן הלמן
</div>
